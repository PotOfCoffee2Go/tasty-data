::heading::<div>
# _Portfolio Playground_

::tx-.8::_by {{name}}_

_Display portfolio data_
</div>


::clear div::

<button onclick="window.location.href = '?doc=pages/loaddata.html';">Enter data</button>
</div>

::div #detail-data tx-darkblue::

::include-pages/details.html::

<script>
  let detailMarkup = '' +
    '| Symbol | ::tx-green::_Shares_ | Entry | Mark | Cost | Holding | Gain |\n' +
    '| :----- | :------------------: | :---: | :--: | :--: | :-----: | :--: |\n' +
    '{{#data}}' +
    '| {{Underlying_Symbol}} | {{Quantity}} | {{fmt.Entry_Price}} |' +
    '  {{fmt.Mark_Price}} | {{fmt.Cost}} | {{fmt.Holding}} | {{fmt.Gain}} |\n' +
    '{{/data}}' +
    '| Totals | {{sums.fmt.Quantity}} | - | - |' +
    '  {{sums.fmt.Cost}} | {{sums.fmt.Holding}} | {{sums.fmt.Gain}} |\n';

  // Reference portfolio data in localStorage
  let data = webdocdown.data.store.tastyPortfolioDetails.data;
  let sums = webdocdown.data.store.tastyPortfolioSums;
  console.log(sums);

  // Sort by symbol
  data.sort((a, b) => (a.Underlying_Symbol > b.Underlying_Symbol ? 1 : -1));

  // Produce and display table of portfolio data
  webdocdown.produceWBDD(detailMarkup, { data, sums })
    .then((html) => document.getElementById('detail-data').innerHTML = html)
</script>

<style>
  #detail-data table, #detail-data th, #detail-data td {
    padding: 4px;
    border: 1px solid black;
    border-collapse: collapse;
  }
  #detail-data table {
    margin-left:auto;
    margin-right:auto;
  }
  #detail-data th {
    color: darkred;
  }
  #detail-data tbody tr:last-child {
    background: #D0D0D0;
  }
  pre {
    border-radius: 15px;
    white-space: pre-wrap;
  }
</style>

::plugin-plugins/common.html::
