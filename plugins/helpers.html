<script>
  // Global Helpers
  roundPlaces = (nbr, places) =>
    Math.round(nbr * Math.pow(10, places)) / Math.pow(10, places);

  format = (nbr, places) => parseFloat(roundPlaces(nbr, places)).toFixed(places);

  lowerCaseButFirst = (text) =>
    text.replace(
      /^[A-Z].*/,
      (word) => word.charAt(0) + word.slice(1).toLowerCase()
    );

  maybeRedParens = (nbr, places) =>
    nbr < 0
      ? "::tx-darkred::_(" + format(nbr * -1, places) + ")_"
      : "::tx-darkblue::_" + format(nbr, places) + "_";

  maybeItalicRedParens = (nbr, places) =>
    nbr < 0
      ? "::tx-italic-darkred::_(" + format(nbr * -1, places) + ")_"
      : "::tx-italic-darkblue::_" + format(nbr, places) + "_";

  linkToTrans = (symbol, table) => // table = 'portfolio' or 'position'
    symbol
      ? `<a onclick="markupTransactions('${symbol}', '${table}');">${symbol}</a>`
      : "";
</script>
